<!DOCTYPE html>
<html lang="en">
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Sergey Pozhilov (GetTemplate.com)">

    <title></title>

    <link rel="shortcut icon" href="assets/images/gt_favicon.png">

    <link rel="stylesheet" media="screen" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">

    <!-- Custom styles for our template -->
    <link rel="stylesheet" href="assets/css/bootstrap-theme.css" media="screen">

    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="assets/css/main.css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>

    <![endif]-->

    <style type="text/css">

        .LI_1 {
            border-collapse: collapse;
            box-sizing: border-box;
            clear: left;
            color: rgb(65, 65, 65);
            cursor: default;
            float: left;
            height: 50px;
            vertical-align: top;
            width: 100px;
            perspective-origin: 91px 29.5px;
            transform-origin: 91px 29.5px;
            background: rgb(255, 255, 255) none repeat scroll 0% 0% / auto padding-box border-box;
            border: 1px solid rgb(0, 0, 0);
            border-radius: 3px 3px 3px 3px;
            font: normal normal normal normal 11px/15.7142858505249px 'Open Sans', Verdana, Arial, sans-serif;
            list-style: none outside none;
            margin: 5px;
            outline: rgb(65, 65, 65) none 0px;
        }

        .DIV_2 {
            border-collapse: collapse;
            box-sizing: border-box;
            color: rgb(0, 0, 0);
            cursor: default;
            height: 20px;
            text-align: center;
            width: 182px;
            perspective-origin: 91px 10px;
            transform-origin: 91px 10px;
            background: rgb(255, 255, 255) none repeat scroll 0% 0% / auto padding-box border-box;
            border: 1px solid black rgb(255, 255, 255);
            border-radius: 3px 3px 0 0;
            font: normal normal normal normal 11px/20px 'Open Sans', Verdana, Arial, sans-serif;
            list-style: none outside none;
            margin: -1px -1px 0px;
            outline: rgb(255, 255, 255) none 0px;
            overflow: hidden;

        }

    </style>

    <script type="text/javascript">

        $(function () {
            <%
                    var sum1=0, sum2=0, sum3=0, sum4=0, sum5=0, sum6=0, sum7=0;
                    for (var i = 0; i < userCurrentTasks.length; i++) {
                     sum1 += Number(userCurrentTasks[i].day1);
                     sum2 += Number(userCurrentTasks[i].day2);
                     sum3 += Number(userCurrentTasks[i].day3);
                     sum4 += Number(userCurrentTasks[i].day4);
                     sum5 += Number(userCurrentTasks[i].day5);
                     sum6 += Number(userCurrentTasks[i].day6);
                     sum7 += Number(userCurrentTasks[i].day7);
                } %>

            chart = new Highcharts.Chart({


                chart: {
                    renderTo: 'burndownChart'
                }
                ,
                title: {
                    text: 'Burndown Chart',
                    x: -20 //center
                }
                ,
                colors: ['blue', 'red'],
                plotOptions: {
                    line: {
                        lineWidth: 3
                    }
                    ,
                    tooltip: {
                        hideDelay: 200
                    }
                }
                ,
                subtitle: {
                    text: 'Sprint 1',
                    x: -20
                }
                ,
                xAxis: {
                    categories: ['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5', 'Day 6', 'Day 7']
                }
                ,
                yAxis: {
                    title: {
                        text: 'Hours'
                    }
                    ,
                    plotLines: [{
                        value: 0,
                        width: 1
                    }]
                }
                ,
                tooltip: {
                    valueSuffix: ' hrs',
                    crosshairs: true,
                    shared: true
                }
                ,
                legend: {
                    layout: 'vertical',
                    align: 'right',
                    verticalAlign: 'middle',
                    borderWidth: 0
                }
                ,
                series: [{
                    name: 'Ideal Burn',
                    color: 'rgba(255,0,0,0.25)',
                    lineWidth: 2,
                    data: [50, 42, 34, 26, 18, 9, 0]
                }, {
                    name: 'Actual Burn',
                    color: 'rgba(0,120,200,0.75)',
                    marker: {
                        radius: 6
                    },

                    data: [<%= sum1 %>, <%= sum2 %>, <%= sum3 %>, <%= sum4 %>, <%= sum5 %>, <%= sum6 %>, <%= sum7 %>]
                }]
            });
        })
        ;
        //        $(document).ready(function () {
        //            $("#show").click(function () {
        //                $("p").show();
        //                $(container).css('border', "3px solid #000000");
        //                $(container).css('width', "450px");
        //                $(container).css('height', "250px");
        //            });
        //        });

    </script>
</head>

<body>
<!-- Fixed navbar -->
<div class="navbar navbar-inverse navbar-fixed-top headroom">
    <div class="container">
        <div class="navbar-header">
            <!-- Button for smallest screens -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span
                        class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button>

        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav pull-right">
                <li><a href="index.html">Home</a></li>
                <li class="active"><a href="about.html">About</a></li>
                <!-- 					<li class="dropdown">
                                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">More Pages <b class="caret"></b></a>
                                        <ul class="dropdown-menu">
                                            <li><a href="sidebar-left.html">Left Sidebar</a></li>
                                            <li><a href="sidebar-right.html">Right Sidebar</a></li>
                                        </ul>
                                    </li> -->
                <!-- <li><a href="contact.html">Contact</a></li> -->
                <li><a class="btn" href="logout">LOGOUT</a></li>
            </ul>
        </div>
        <!--/.nav-collapse -->
    </div>
</div>
<!-- /.navbar -->

<header id="head" class="secondary"></header>

<!-- container -->

<div class="responsive">
    <h4>Start Date: <span class="label label-default"><%= projectDetails.startDate %></span></h4>
    <h4>End Date: <span class="label label-default"><%= projectDetails.endDate %></span></h4>
    <h4>Description: <span class="label label-default"><%= projectDetails.description %></span></h4>

    <div class="responsive">

        <table class="table">
            <thead>
            <tr>
                <!-- <th>Task Name</th>
                <th>Owner</th>
                <th>Initial Estimate</th>
                <th>Day 1</th>
                <th>Day 2</th>
                <th>Day 3</th>
                <th>Day 4</th>
                <th>Day 5</th>
                <th>Day 6</th>
                <th>Day 7</th> -->
                <% for(var i = 0; i < userDefinedFields.length; i++){ %>
                <th><%= userDefinedFields[i] %></th>
                <% } %>

            </tr>
            </thead>

            <tbody>
            <% if (columnValues != 'New User' && columnValues.length > 0 && columnValues && columnValues != null) {
//            for (i = 0; i < userCurrentTasks.length; i++){
                console.log("Scrum Dashboard..." + userCurrentTasks);
                console.log("Start Date..." + JSON.stringify(userCurrentTasks));
            }
            %>

            <% var count = 0;
            for(var i = 0; i < userCurrentTasks.length; i++){ %>
            <tr>
                <% for(var j = 0; j < userDefinedFields.length; j++){
                if (userDefinedFields[j] == "task_name") { %>
                <td>

                    <div>
                        <a href="/editScrumActivity/<%= projectDetails.sprintID %>/<%= userCurrentTasks[i].id %>">  <%= columnValues[count++] %></a>


                    </div>

                </td>

                <% } else { %>
                <td>

                    <div>
                        <%= columnValues[count++] %>


                    </div>
                </td>

                <% } } %>

                <td>
                    <a href="/deleteScrumTask/<%= userCurrentTasks[i].id %>" type="button"
                       class="btn btn-danger btn-xs">Delete</a>
                </td>
            </tr>
            <% } %>

            </tbody>

        </table>


    </div>


</div>
<a style="float: right;margin-right: 100px;" type="button"
   href="/displayNewScrumTaskForm/<%= projectDetails.sprintID %>" class="btn btn-primary">Add
    Task
</a>

<div id="burndownChart" class="" style="margin-bottom: 100px"></div>


<footer id="footer" class="footer navbar-fixed-bottom">


    <div class="footer2">
        <div class="container">
            <div class="row">


                <div class="col-md-6 widget">
                    <div class="widget-body">
                        <p class="text-right">
                            Copyright &copy; 2015, CMPE281. Designed by <a href="" rel="designer">CMPE281 - TEAM #19</a>
                        </p>
                    </div>
                </div>

            </div>
            <!-- /row of widgets -->
        </div>
    </div>
</footer>


<!-- JavaScript libs are placed at the end of the document so the pages load faster -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<script src="assets/js/headroom.min.js"></script>
<script src="assets/js/jQuery.headroom.min.js"></script>
<script src="assets/js/template.js"></script>
</body>
</html>